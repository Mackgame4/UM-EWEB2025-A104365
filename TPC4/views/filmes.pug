extends layout

block content
  .we-card-4
    header.w3-container.w3-blue
      h1= titulo
    .w3-container
      table.w3-table-all
        tr
          th ID
          th Título
          th Géneros
          th Ano
          th Atores
          th Ações
        each filme in filmes
          tr
            td= filme.id
            td= filme.title
            td= Array.isArray(filme.genres) ? filme.genres.join(', ') : 'N/A'
            td= filme.year
            td
              if filme.cast && filme.cast.length > 0
                each ator, index in filme.cast
                  a(href="/atores/" + ator)= ator
                  if index < filme.cast.length - 1
                    | , 
              else
                | Nenhum ator disponível
            td
              a(href="/filmes/editar/" + filme.id)
                button.w3-button.w3-green Editar
              a(href="/filmes/excluir/" + filme.id)
                button.w3-button.w3-red Apagar
  footer.w3-container.w3-blue
    address Powered by #{titulo}